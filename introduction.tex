\chapter{Introduction}
\label{chap:intro}
\epigraph{In anticipation of the coming of our overlords computers, we
  redo math as computers understand it.}{Andrej Bauer}

Homotopy type theory is a very new branch of mathematics and computer
science, exhibiting a strong, but surprising link between the theory
of $\omega$-categories and type theory. This topic hence live at the
borderline between pure mathematics and computer science. One of the
goals of researches on this topic is to use homotopy type theory as a
new foundation for mathematics, replacing for example Zermelo-Frænkel
set theory. Its strong links with type theory would allow
mathematicians to formalize their work with a proof assistant such as
Coq~\cite{coq:refman:8.4}, Agda\cite{norell2007towards} or
Lean~\cite{lean}. Indeed, errors in mathematical research papers seem
to be inevitable~\cite{vv-univ-f}, and a computer-checked proof might
be more trustable than a human-checked proof.
The most famous examples of computer-checked results are the {\em Four
  Colour Theorem} (to color a map such that any adjacent countries
does not have the same color, four colors are sufficient) by Gonthier
and Werner~\cite{gonthier-four-color} in Coq, the {\em Feit-Thomson
  Theorem} (every finite group of odd order is solvable) by Gonthier
and al.~\cite{gonthier-feit} in Coq, the original proof of Jordan curve
theorem (any continuous simple closed curve divides the plane into an
``interior'' bounded region and an ``exterior'' unbounded region) by
Hales~\cite{hales-jordan} in Mizar, or the {\em Kepler conjecture}
(the most compact ways to arrange spheres are the cubic and hexagonal close
packing) by Hales and al.~\cite{hales-kepler} in Isabelle and HOL Light.

One advantage of type theory over set theory is the computation
property of type theory: any term is identified with its normal
form. Thus, a proof assistant allows its user to simplify
automatically all expressions, while a proof on paper requires all
computation to be done ``by hand''. Set theory does not share this
computation property, and is thus not convenient to use as a formal
basis for a proof assistant. However, this computation property
prevents us to use classical facts, such as excluded middle ; in the
general case, it is not provable that a proposition is either true or
false. 

The main ingredient in homotopy type theory, linking mathematics and
computer science, is the Curry-Howard isomorphism: one can speak
equivalently about proofs or about programs, they describe the same
objects {\em via} a correspondance. For example, in type theory, the
sequence of symbols $A\to B$ can be seen as the type of programs
taking an argument of type $A$ and producing an output of type $B$ as
well as the types of proofs that $A$ implies $B$. Something implied by
this correspondance is that there might exist different proofs of
``$A$ implies $B$'', since there are probably several ways to
construct an output of type $B$ from an input of type $A$. This
property is called {\em proof-relevance}, while ZFC is considered as
{\em proof-irrelevant}: if a lemma has been proved, the way it was
proved can be forgotten, as it does not matter at all.

Other than the lack of classical facts, one issue with type theory is
the notion of equality. Two possibilities arise:
\begin{itemize}
\item an intentional, or definitional, equality ; two objects are
  equal if they are defined in the same way, \ie{} if one can be
  exchanged with the other without changing the meaning. For example,
  the natural number 1 and the successor of the natural number 0 are
  intentionally equal. In type theory, we add some rules to this
  equality such as $\beta$ ($(\lambda\ x,\,f\ x)y = f\ y$) and $\eta$.
\item an extensional, or propositional, equality ; two objects are
  considered equal if they behave in the same way. For example, given
  two abstract natural numbers $a$ and $b$, $a+b$ and $b+a$ are
  extensionally, but not intentionally, equal, \ie{} we need a proof
  of this.
\end{itemize}
In set theory, we usually use an extensional equality, asserting that
two sets are equal if they have the same elements. In type theory, the
intentional equality is a meta-theoretic notion ; only the
type-checker (like Coq) can access it. It cannot be expressed in the
theory itself, as it is known that extensional type theory is not
decidable~\cite{hofmann1995extensional} (given and term $p$ and a type
$P$, it might be undecidable to check if $p$ is indeed a proof of
$P$). The propositional equality is an internal concept defined as an inductive type 
\[    \mathrm{Id} (A:\Type) (a:A) : A \to \Type 
\]
generated by
\[
    \idpath : \mathrm{Id}_A(a,a).
\]

\todo[inline]{Go on!}

\paragraph*{Aims of the thesis}
The main goal of this thesis is to give a definition of a
Lawvere-Tierney sheafification functor in the setting of homotopy type
theory. In order to do this, we need in a first time to develop a
theory of colimits in homotopy type theory, leading to thoughts on the
definition of equivalence relation in type theory. Then, as our
definition of sheafification is done inductively on the truncation
levels, we need to define a truncated version of the just defined
theory of colimits, as well as a truncated version of left-exact
modalities. 
All these developments have been computer-checked by the proof
assistant Coq ; most of them are available on my Github account
\url{https://github.com/KevinQuirin}.

Our deep study of modalities also lead us to 
define\todo[fancyline]{Check plugin}{} the translation of
type theories associated to a (left-exact) modality, and write a Coq
plugin to handle automatically that translation.


\paragraph*{Plan of the thesis}

Let us describe the contents of this thesis. Chapter~\ref{chap:hott}
recall the basic definitions in homotopy type theory. It is mainly
based on~\cite{hottbook}\footnote{Note that, to ease the reading, some
  references are shortcutted by their usual names: \cite{hottbook} is
  the Homotopy Type Theory book, \cite{hottlib} is the Coq/HoTT
  library, \cite{lurie} is Lurie's monograph Higher topos theory,
  \etc}, and serves more as a way for us to introduce notations to be
consistent in the whole thesis. If the reader is not supposed to know
anything about homotopy type theory before reading this thesis, this
short introduction might be not enough to understand this setting, and
he's strongly encouraged to take a look at~\cite{hottbook} before.

Chapter~\ref{chap:modalities} introduces in its first part the theory
of modalities as explained in~\cite{hottbook}. Then, we describe what
we will call a {\em truncated modality}, which is a restricted version
of modalities. Finally, we exhibit the translation of type theories
induced by a left-exact modality.

In chapter~\ref{chap:colim}, we describe a basic theory of colimits
over graphs, and discuss an extension defining colimits over ``graph
with compositions''. This chapter, in a large part, has been
formalized by Simon Boulier in a library available at
\url{https://github.com/SimonBoulier/hott-colimits}. At the end of
this chapter, we share our thoughts about groupoid objects, or
equivalence relations in homotopy type theory. This section can easily
be skipped by the reader, as it does not contain anything useful for
the rest of the thesis.

The central (and last) chapter of this thesis is
chapter~\ref{chap:sheaf}. It describes our construction of the
Lawvere-Tierney sheafification functor, which is a way to extend the
not-not Gödel translation, valid only on h-propositions, to all
truncated types. This result is the main contribution of the thesis.
This chapter uses almost all the theory defined in
previous chapters, and thus can hardly be read on its own. This
section as been (almost) fully formalized, in a library available at
\url{https://github.com/KevinQuirin/sheafification}. 


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
